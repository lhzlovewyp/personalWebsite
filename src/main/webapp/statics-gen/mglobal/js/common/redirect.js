define(["global_env","tracker_ref_yhd.global_spm"],function(h,j){var i={};var m=h.isInApp();var l=h.isWireless2();var k=URLPrefix.item||"http://m.yhd.com";var n=URLPrefix.tuan||"http://m.yhd.com";i.login=function(a,b){if(l){var c={};if(b){var d=j.getData(b,b.tagName);if(d){c.tp=d.tp;c.tc=d.tc}}i.gotoWireless2Login(c)}else{var e=globalLoginUrl+"?returnUrl="+a;if(m){e=websiteurl+"/mw/login"}if(h.adapterNewListenner()){j.refreshPage(e,b,b.tagName)}else{document.location=e}}};i.productDetail=function(e,f,a,t,x){var b="0";var c="0";if(a!="0"&&a!=null&&a!="null"&&a!=""&&typeof(a)!="undefined"){b=a+"_0_landingpage";c=a+"_landingpage"}var w="";var g="store_product";if(l){var u={pmId:e};if(c!="0"){u.promotionId=c}if(t){var v=j.getData(t,x);if(v){u.tp=v.tp;u.tc=v.tc}}i.gotoWireless2Detail(u)}else{if(m){var d=websiteurl+"/"+g+"/"+f+"_"+b;
d=d+"?pmId="+e;if(h.adapterNewListenner()){j.refreshPage(d,t,x)}else{document.location=d}}else{if(a&&a!="0"){w+=k+"/item/lp/"+a+"_"+e}else{w+=k+"/item/"+e}j.refreshPage(w,t,x)}}};i.grouponDetail=function(g,e,p,f){var c="";if(e==1){c="mall_cmsgroupon"}else{c="store_cmsgroupon"}if(l){var a={grouponid:g};if(p){var d=j.getData(p,f);if(d){a.tp=d.tp;a.tc=d.tc}}i.gotoWireless2GrouponDetail(a)}else{if(m){var b=websiteurl+"/"+c+"/"+g+"/"+areaId;if(h.adapterNewListenner()){j.refreshPage(b,p,f)}else{document.location=b}}else{var b=n+"/tuan/detail/"+g;j.refreshPage(b,p,f)}}};i.gotoWireless2Detail=function(a){h.goToNative("yhd://productdetail/",a)};i.gotoWireless2GrouponDetail=function(a){h.goToNative("yhd://grouponsummary/",a)};i.gotoWireless2Login=function(a){h.goToNative("yhd://login/",a)};return i});