define("global_provinceSwitch",function(){var t={};var s=$.fn.cookie("provinceId")||1;var r="http://cart.yhd.com";var p={};var q=[{key:"华北",value:[{id:2,name:"北京"},{id:3,name:"天津"},{id:4,name:"河北"},{id:32,name:"山西"},{id:8,name:"内蒙古"}]},{key:"华东",value:[{id:1,name:"上海"},{id:5,name:"江苏"},{id:6,name:"浙江"},{id:13,name:"安徽"},{id:14,name:"福建"},{id:16,name:"山东"}]},{key:"华南",value:[{id:20,name:"广东"},{id:21,name:"广西"},{id:22,name:"海南"}]},{key:"华中",value:[{id:15,name:"江西"},{id:17,name:"河南"},{id:18,name:"湖北"},{id:19,name:"湖南"}]},{key:"西南",value:[{id:7,name:"重庆"},{id:12,name:"四川"},{id:23,name:"贵州"},{id:24,name:"云南"},{id:25,name:"西藏"}]},{key:"西北",value:[{id:26,name:"陕西"},{id:27,name:"甘肃"},{id:28,name:"青海"},{id:30,name:"宁夏"},{id:29,name:"新疆"}]},{key:"东北",value:[{id:9,name:"辽宁"},{id:10,name:"吉林"},{id:11,name:"黑龙江"}]}];
var v=function(){var e=$.fn.cookie("detail_yhdareas");var c=[];var d=[];var f=/([\d]+_[\d]+_[\d]+)_([\S^_]+_[\S^_]+_[\S^_]+)/;if(e&&f.test(e)){c=f.exec(e)[1].split("_");d=f.exec(e)[2].replace(/\<i\>\<\/i\>/g,"").split("_")}else{c=[s];for(var g=0;g<q.length;g++){var b=q[g].value;for(var a=0;a<b.length;a++){if(b[a].id==s){d=[b[a].name];break}}}}return[c,d]};var n=function(b){if(!b||b.length!=2){return}var c=b[0];var d=b[1];var a=c[0]+"_"+c[1]+"_"+c[2]+"_"+d[0]+"_"+d[1]+"_"+d[2];$.fn.cookie("provinceId",c[0],{domain:"yhd.com",path:"/",expires:800});$.fn.cookie("detail_yhdareas",a,{domain:"yhd.com",path:"/",expires:400})};var m=function(){var f=[];var e=v();var c=e[0];var d=e[1];f.push('<div class="touchweb_components-provinceSwitch">');f.push('<div class="provinceSwitch_body" id="provinceSwitch_body">');
f.push('<div class="switch_head">');f.push('<a href="javascript:;" class="head_item cur">');f.push('<span class="con_detail" data-id="'+(c.length>0?c[0]:"")+'">'+(d.length>0?d[0]:"省")+"</span>");f.push("</a>");f.push('<a href="javascript:;" class="head_item">');f.push('<span class="con_detail" data-id="'+(c.length>1?c[1]:"")+'">'+(d.length>1?d[1]:"市")+"</span>");f.push("</a>");f.push('<a href="javascript:;" class="head_item">');f.push('<span class="con_detail" data-id="'+(c.length>2?c[2]:"")+'">'+(d.length>2?d[2]:"区")+"</span>");f.push("</a>");f.push("</div>");f.push("<div class='switch_con'>");f.push("<div class='detail_wrap active'>");f.push("<div class='detail_box' id='_selectProvince'>");for(var g=0;g<q.length;g++){var b=q[g].value;for(var a=0;a<b.length;a++){f.push("	<a href='javascript:;' data-value='"+b[a].id+"' class='con_item'>"+b[a].name+"</a>")
}}f.push("</div>");f.push("</div>");f.push("<div class='detail_wrap'  data-tpc='1'>");f.push("<div class='detail_box' id='_selectCity'>");f.push("</div>");f.push("</div>");f.push("<div class='detail_wrap'  data-tpc='2'>");f.push("<div class='detail_box' id='_selectArea' >");f.push("</div>");f.push("</div>");f.push("</div>");f.push("</div>");f.push('<div class="layer_mask"></div>');f.push("</div>");return f.join("")};var o=function(c,d){if(!c){return}var a=r+"/cart/opt/getCountysByCity.do?callback=?";var b=function(f){var g=[];g.push("<dl class='clearfix'>");for(var h=0;h<f.length;h++){var i=f[h];g.push("<a data-value='"+i.id+"' href='javascript:;' class='con_item'>"+i.name+"</a>")}$("#_selectArea").html(g.join(""));if(d){d(f)}};var e={cityId:c};$.getJSON(a,e,function(f){if(f&&f.code=="00000000"){b(f.data)
}})};var l=function(c,d){if(!c){return}var b=r+"/cart/opt/getCitysByProvince.do?callback=?";var a=function(f){var g=[];for(var h=0;h<f.length;h++){var i=f[h];g.push("<a data-value='"+i.id+"' href='javascript:;'  class='con_item'>"+i.name+"</a>")}$("#_selectCity").html(g.join(""));if(d){d(f)}};var e={provinceId:c};$.getJSON(b,e,function(f){if(f&&f.code=="00000000"){a(f.data)}})};function u(){var a=m();$("body").append(m())}t.itemWidthCtrl=function(){var d=this;var c=$(".touchweb_components-provinceSwitch .switch_head"),e=c.find(".head_item"),a=$(".detail_box"),b;a.on("click","a",function(){var k=$(this);k.addClass("select").siblings().removeClass("select");var A=c.find(".con_detail");var g=c.find(".cur .con_detail");g.text(k.text());var f=k.attr("data-value");g.attr("data-id",f);var B=e.index($(".head_item.cur"));
if(B<e.length-1){var j=function(){c.find(".cur").removeClass("cur").next().addClass("cur");k.parents(".detail_wrap").removeClass("active").next().addClass("active")};if(B==0){l(f,j)}else{o(f,j)}}else{$(".touchweb_components-provinceSwitch").removeClass("fadeIn");d.setWinMove();var h="";e.each(function(){h+=$(this).text()});var i=[$(A[0]).attr("data-id"),$(A[1]).attr("data-id"),$(A[2]).attr("data-id")];var z=[$(A[0]).text(),$(A[1]).text(),$(A[2]).text()];n([i,z]);p.text(h)}});c.on("click",".head_item",function(){var f=e.index($(this));if(f-2<e.index($(".head_item.cur"))){c.find(".cur").removeClass("cur");$(this).addClass("cur");$(".detail_wrap.active").removeClass("active");$(".detail_wrap").eq(f).addClass("active")}})};t.winCtrl=function(){var a=$(".touchweb_components-provinceSwitch"),b=this;
p.on("click",function(){a.addClass("fadeIn");b.stopWinMove()});$(".layer_mask").on("click",function(){a.removeClass("fadeIn");b.setWinMove()})};t.getWindowOffsetTop=function(){return iTop=document.body.scrollTop};t.stopWinMove=function(){var a=t.getWindowOffsetTop();$("body").css({position:"fixed",top:-a})};t.setWinMove=function(){var a=-parseInt($("body").css("top").slice(0,-2));$("body").css({position:"relative",top:"initial"}).scrollTop(a)};t.init=function(a){p=a;u();this.winCtrl();var b=v();var c=b[1];p.text(c.join(""));this.itemWidthCtrl()};return t});