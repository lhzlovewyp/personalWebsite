(function(){var r=window.loli||(window.loli={});var v=window,s=v.document,e,n="localStorage",q={};q.set=function(b,a){};q.get=function(a){};q.remove=function(a){};q.clear=function(){};function o(){try{return(n in v&&v[n])}catch(a){return false}}if(o()){e=v[n];q.set=function(b,a){if(a===undefined){return e.removeItem(b)}e.setItem(b,a);return a};q.get=function(a){return e.getItem(a)};q.remove=function(a){e.removeItem(a)};q.clear=function(){e.clear()}}else{if(s.documentElement.addBehavior){var t,m;try{m=new ActiveXObject("htmlfile");m.open();m.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>');m.close();t=m.w.frames[0].document;e=t.createElement("div")}catch(u){e=s.createElement("div");t=s.body}function p(a){return function(){try{var d=Array.prototype.slice.call(arguments,0);
d.unshift(e);t.appendChild(e);e.addBehavior("#default#userData");e.load(n);var b=a.apply(q,d);t.removeChild(e);return b}catch(c){}}}q.set=p(function(c,b,a){if(a===undefined){return q.remove(b)}c.setAttribute(b,a);c.save(n);return a});q.get=p(function(a,b){return a.getAttribute(b)});q.remove=p(function(a,b){a.removeAttribute(b);a.save(n)});q.clear=p(function(c){var f=c.XMLDocument.documentElement.attributes;try{c.load(n)}catch(b){}for(var d=0,a;a=f[d];d++){c.removeAttribute(a.name)}c.save(n)})}}q.isRoot=function(){var b=true;var c=document.domain;var a=/([^\.]*)\.yhd\.com/;if(a.test(c)){var d=a.exec(c)[1];if(d!="www"){b=false}}return b};q.isIE=function(){var a=window.navigator.userAgent.toLowerCase();var c=/msie ([\d\.]+)/;if(c.test(a)){var b=parseInt(c.exec(a)[1]);return b}return 0};q.getDateStr=function(){var a=new Date();
return(a.getYear()+1900)+""+(a.getMonth()+1)+""+a.getDate()};q.setFromRoot=function(c,d,l){var b=l||function(){};if(q.isRoot()){var a=q.set(c,d);b({status:1,key:c,value:a})}else{if(!window.postMessage||!window.addEventListener){b({status:0,key:c,value:null});return}var g="globalLocalStorageAdaptorForSet";var k=$("#"+g);if(k.size()==0){var h=document.createElement("iframe");h.setAttribute("id",g);h.setAttribute("style","display:none");h.setAttribute("src",window.location.protocol+"//www.yhd.com/html/setLocalStorage.html?v="+q.getDateStr());document.body.appendChild(h);k=$("#"+g)}if(k.attr("loaded")){var i=k.get(0).contentWindow;var f=window.location.protocol+"//www.yhd.com";var j={key:c,value:d};if(q.isIE()==9){j='{"key":"'+c+'", "value":"'+d+'"}'}i.postMessage(j,f);b({status:1,key:c,value:d})
}else{k.load(function(){$(this).attr("loaded","1");var A=$(this).get(0).contentWindow;var w=window.location.protocol+"//www.yhd.com";var z={key:c,value:d};if(q.isIE()==9){z='{"key":"'+c+'", "value":"'+d+'"}'}A.postMessage(z,w);b({status:1,key:c,value:d})})}}};q.getFromRoot=function(k,z){var j=z||function(){};if(q.isRoot()){var h=q.get(k);j({status:1,key:k,value:h})}else{if(!window.postMessage||!window.addEventListener){j({status:0,key:k,value:null});return}var B=window["yhd.storage.get.callback"]||(window["yhd.storage.get.callback"]=[]);B.push(j);var b=B.length-1;var d="globalLocalStorageAdaptorForGet";var g=$("#"+d);if(g.size()==0){var c=document.createElement("iframe");c.setAttribute("id",d);c.setAttribute("style","display:none");c.setAttribute("src",window.location.protocol+"//www.yhd.com/html/getLocalStorage.html?v="+q.getDateStr());
document.body.appendChild(c);g=$("#"+d)}if(g.attr("loaded")){var f=g.get(0).contentWindow;var A=window.location.protocol+"//www.yhd.com";var i=window.location.protocol+"//"+window.location.host;var l={key:k,host:i,version:b};if(q.isIE()==9){l='{"key":"'+k+'", "host":"'+i+'", "version":"'+b+'"}'}f.postMessage(l,A)}else{g.load(function(){$(this).attr("loaded","1");var y=$(this).get(0).contentWindow;var w=window.location.protocol+"//www.yhd.com";var D=window.location.protocol+"//"+window.location.host;var x={key:k,host:D,version:b};if(q.isIE()==9){x='{"key":"'+k+'", "host":"'+D+'", "version":"'+b+'"}'}y.postMessage(x,w)})}var a=function(y){var D=/^http[s]?:\/\/([^\.]*)\.yhd\.com/i;if(D.test(y.origin)){var x=y.data;if(x){if(typeof x=="string"){x=$.parseJSON(x)}var w=B[x.version];if(w){w({status:1,key:x.key,value:x.value})
}else{j({status:1,key:x.key,value:x.value})}}}};if(!window["yhd.storage.get.handler"]){window.addEventListener("message",a);window["yhd.storage.get.handler"]=a}}};r.yhdStore=q})();