define("abtestPv_tracker",["base_observer"],function(g){var h={};var f=[];g.subscribe("abtestPvEvent",function(n){if(n){var a=n.data("abtestPvFlag");if(a!="1"){var b=window.loli||{};if(b&&b.page&&b.spm){var c=n.attr("data-abtest")||0;if(c){var o=b.page.glABcodeToTag(c);if(o){var m=".";var d="1";var p=b.spm.getData(n);c=d+m+o;gotracker(2,"abtest-pv","",p)}}}n.data("abtestPvFlag",1)}}});h.run=function(c){var b=200,a=null;if(c){f=c}if(f.length<1){f=jQuery("[data-abtest]")}setTimeout(function(){e()},500);jQuery(document).bind("scroll",function(){a&&clearTimeout(a);a=setTimeout(function(){e()},b)})};function e(){if(typeof(g)=="object"){if(f.length>0){var a=0;while(a<f.length){if(loli.isVisualByTop(f[a])&&f[a]&&f[a].style&&f[a].style.display!="none"){g.fire("abtestPvEvent",jQuery(f[a]));f.splice(a,1)
}else{a++}}}}}return h});