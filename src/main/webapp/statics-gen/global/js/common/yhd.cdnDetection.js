(function(f){var e={urlMap:[],resultMap:[],loadedCount:0,config:{},cdnConfig:function(c){e.config=c;var b=e.config.random;if(b){var a=Math.floor(Math.random()*100+1);if(a<=b){e.config.canDetection=true}}},canDetection:function(){var a=window.navigator.userAgent.indexOf("Chrome")!==-1;if(a&&window.performance&&e.config.canDetection){return true}return false},cdnAddObject:function(a,b){if(!e.canDetection()){return}e.urlMap.push({key:a,url:b+"?r="+Math.random()})},cdnDetection:function(b){if(!e.canDetection()){return}var j=e.urlMap,c=j.length;for(var a=0;a<c;a++){var i=j[a];this.loadResource(i)}},loaded:function(){var b=e;if(b.urlMap.length==b.loadedCount){var a=b.config.callback;a();return}},loadResource:function(a){var b=new Image();b.onload=function(){try{var h=window.performance.getEntriesByName(a.url);
if(h==null||h.length<1){return}e.loadedCount++;a.costTime=Math.round(h[0].responseEnd-h[0].startTime);e.resultMap.push(a);e.loaded()}catch(c){}};b.src=a.url}};var d=window.loli||(window.loli={});d.cdnDetection=e;jQuery(document).ready(function(){var c=f("body").attr("data-cdnDetection");if(c=="-1"||c==null){return}c=jQuery.parseJSON(c);if(!c.random||!c.child){return}var b=c.child,a=b.length;if(a<1){return}var h=d.cdnDetection;h.cdnConfig({random:c.random,callback:function(){var z=h.resultMap,B="http://opsdev.yhd.com/trace/?time="+new Date().getTime();var x="d=";var C=z.length;for(var g=0;g<C;g++){var t=z[g];var v=t.key;var w="0.0.0.0";var y=0;var A=t.costTime;x+=v+","+w+","+y+","+A;if(g<C-1){x=x+";"}}var u=new Image();u.src=B+"&"+x}});setTimeout(function(){for(var k=0;k<a;k++){var g=b[k];h.cdnAddObject(g.key,g.url)
}h.cdnDetection()},10000)})})(jQuery);