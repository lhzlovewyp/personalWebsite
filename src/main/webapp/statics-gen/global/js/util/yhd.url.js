(function(){var d=window.loli||(window.loli={});var c=d;var b=c.util=c.util||{};function a(f){if(!f){return true}for(var e in f){return false}return true}b.url={getParams:function(f){f=$.trim(f);var g=this;var e=g.parseUrl(f);return e?e.params:null},appendParams:function(g,i){var h=this;if(a(i)){return g}var e=h.parseUrl(g);if(!e){return g}var j=e.params;for(var f in i){if(i.hasOwnProperty(f)&&i[f]){j[f]=i[f]}else{if(!i[f]){delete j[f]}}}e.params=j;return h.toCusString(e)},deleteParams:function(h,f){var j=this;if(!f||f.length<0){return h}var l=j.parseUrl(h);if(!l){return h}var g=l.params;for(var k=0;k<f.length;k++){var e=f[k];if(g.hasOwnProperty(e)){delete g[e]}}l.params=g;return j.toCusString(l)},parseUrl:function(v){var m="";var q="";var s="";var k={};v=$.trim(v);if(v==""){return null}var o=v.split("#");
var t=o[0];if(o.length>=2){for(var j=1,f=o.length;j<f;j++){m+="#"+o[j]}}var h=t.indexOf("?");var g=t.length;if(h>0){q=t.substring(0,h);s=t.substring(h+1,g)}else{q=t}if(s){var p=s.split("&");for(var j=0,f=p.length;j<f;j++){var n=p[j].indexOf("=");if(n==-1){continue}var e=p[j].substring(0,n);var l=p[j].substring(n+1);k[e]=l}}var r={loc:q,params:k,append:m};return r},toCusString:function(f){var h=[];h.push(f.loc);var g=f.params;if(!a(g)){h.push("?");var i=0;for(var e in g){if(g.hasOwnProperty(e)&&g[e]){if(i){h.push("&")}h.push(e+"="+g[e]);i++}}}if(f.append){h.push(f.append)}return h.join("")}}})();