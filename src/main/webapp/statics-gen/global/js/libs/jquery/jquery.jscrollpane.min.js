!function(b,c,a){b.fn.jScrollPane=function(d){function e(an,ap){function aq(aF){var aG,aH,aI,aA,aB,aC,aD=!1,aE=!1;if(Z=aF,ab===a){aB=an.scrollTop(),aC=an.scrollLeft(),an.css({overflow:"hidden",padding:0}),ac=an.innerWidth()+t,ad=an.innerHeight(),an.width(ac),ab=b('<div class="jspPane" />').css("padding",m).append(an.children()),ae=b('<div class="jspContainer" />').css({width:ac+"px",height:ad+"px"}).append(ab).appendTo(an)}else{if(an.css("width",""),aD=Z.stickToBottom&&w(),aE=Z.stickToRight&&x(),aA=an.innerWidth()+t!=ac||an.outerHeight()!=ad,aA&&(ac=an.innerWidth()+t,ad=an.innerHeight(),ae.css({width:ac+"px",height:ad+"px"})),!aA&&am==af&&ab.outerHeight()==ag){return an.width(ac),void 0}am=af,ab.css("width",""),an.width(ac),ae.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}ab.css("overflow","auto"),af=aF.contentWidth?aF.contentWidth:ab[0].scrollWidth,ag=ab[0].scrollHeight,ab.css("overflow",""),ah=af/ac,ai=ag/ad,aj=ai>1,ak=ah>1,ak||aj?(an.addClass("jspScrollable"),aG=Z.maintainPosition&&(r||S),aG&&(aH=u(),aI=v()),ar(),au(),ax(),aG&&(N(aE?af-ac:aH,!1),M(aD?ag-ad:aI,!1)),aY(),y(),X(),Z.enableKeyboardNavigation&&a0(),Z.clickOnTrack&&D(),bc(),Z.hijackInternalLinks&&f()):(an.removeClass("jspScrollable"),ab.css({top:0,left:0,width:ae.width()-t}),az(),aZ(),bb(),E()),Z.autoReinitialise&&!h?h=setInterval(function(){aq(Z)
},Z.autoReinitialiseDelay):!Z.autoReinitialise&&h&&clearInterval(h),aB&&an.scrollTop(0)&&M(aB,!1),aC&&an.scrollLeft(0)&&N(aC,!1),an.trigger("jsp-initialised",[ak||aj])}function ar(){aj&&(ae.append(b('<div class="jspVerticalBar" />').append(b('<div class="jspCap jspCapTop" />'),b('<div class="jspTrack" />').append(b('<div class="jspDrag" />').append(b('<div class="jspDragTop" />'),b('<div class="jspDragBottom" />'))),b('<div class="jspCap jspCapBottom" />'))),W=ae.find(">.jspVerticalBar"),k=W.find(">.jspTrack"),n=k.find(">.jspDrag"),Z.showArrows&&(R=b('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",A(0,-1)).bind("click.jsp",aX),V=b('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",A(0,1)).bind("click.jsp",aX),Z.arrowScrollOnHover&&(R.bind("mouseover.jsp",A(0,-1,R)),V.bind("mouseover.jsp",A(0,1,V))),z(k,Z.verticalArrowPositions,R,V)),ba=ad,ae.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){ba-=b(this).outerHeight()
}),n.hover(function(){n.addClass("jspHover")},function(){n.removeClass("jspHover")}).bind("mousedown.jsp",function(aB){b("html").bind("dragstart.jsp selectstart.jsp",aX),n.addClass("jspActive");var aA=aB.pageY-n.position().top;return b("html").bind("mousemove.jsp",function(aC){G(aC.pageY-aA,!1)}).bind("mouseup.jsp mouseleave.jsp",F),!1}),at())}function at(){k.height(ba+"px"),r=0,q=Z.verticalGutter+k.outerWidth(),ab.width(ac-q-t);try{0===W.position().left&&ab.css("margin-left",q+"px")}catch(aA){}}function au(){ak&&(ae.append(b('<div class="jspHorizontalBar" />').append(b('<div class="jspCap jspCapLeft" />'),b('<div class="jspTrack" />').append(b('<div class="jspDrag" />').append(b('<div class="jspDragLeft" />'),b('<div class="jspDragRight" />'))),b('<div class="jspCap jspCapRight" />'))),i=ae.find(">.jspHorizontalBar"),o=i.find(">.jspTrack"),aa=o.find(">.jspDrag"),Z.showArrows&&(Q=b('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",A(-1,0)).bind("click.jsp",aX),U=b('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",A(1,0)).bind("click.jsp",aX),Z.arrowScrollOnHover&&(Q.bind("mouseover.jsp",A(-1,0,Q)),U.bind("mouseover.jsp",A(1,0,U))),z(o,Z.horizontalArrowPositions,Q,U)),aa.hover(function(){aa.addClass("jspHover")
},function(){aa.removeClass("jspHover")}).bind("mousedown.jsp",function(aB){b("html").bind("dragstart.jsp selectstart.jsp",aX),aa.addClass("jspActive");var aA=aB.pageX-aa.position().left;return b("html").bind("mousemove.jsp",function(aC){I(aC.pageX-aA,!1)}).bind("mouseup.jsp mouseleave.jsp",F),!1}),ay=ae.innerWidth(),aw())}function aw(){ae.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){ay-=b(this).outerWidth()}),o.width(ay+"px"),S=0}function ax(){if(ak&&aj){var aB=o.outerHeight(),aA=k.outerWidth();ba-=aB,b(i).find(">.jspCap:visible,>.jspArrow").each(function(){ay+=b(this).outerWidth()}),ay-=aA,ad-=aA,ac-=aB,o.parent().append(b('<div class="jspCorner" />').css("width",aB+"px")),at(),aw()}ak&&ab.width(ae.outerWidth()-t+"px"),ag=ab.outerHeight(),ai=ag/ad,ak&&(ao=Math.ceil(1/ah*ay),ao>Z.horizontalDragMaxWidth?ao=Z.horizontalDragMaxWidth:ao<Z.horizontalDragMinWidth&&(ao=Z.horizontalDragMinWidth),aa.width(ao+"px"),C=ay-ao,J(S)),aj&&(av=Math.ceil(1/ai*ba),av>Z.verticalDragMaxHeight?av=Z.verticalDragMaxHeight:av<Z.verticalDragMinHeight&&(av=Z.verticalDragMinHeight),n.height(av+"px"),al=ba-av,H(r))
}function z(aE,aF,aG,aA){var aB,aC="before",aD="after";"os"==aF&&(aF=/Mac/.test(navigator.platform)?"after":"split"),aF==aC?aD=aF:aF==aD&&(aC=aF,aB=aG,aG=aA,aA=aB),aE[aC](aG)[aD](aA)}function A(aB,aC,aA){return function(){return B(aB,aC,this,aA),this.blur(),!1}}function B(aD,aE,aF,aG){aF=b(aF).addClass("jspActive");var aH,aA,aB=!0,aC=function(){0!==aD&&P.scrollByX(aD*Z.arrowButtonSpeed),0!==aE&&P.scrollByY(aE*Z.arrowButtonSpeed),aA=setTimeout(aC,aB?Z.initialDelay:Z.arrowRepeatFreq),aB=!1};aC(),aH=aG?"mouseout.jsp":"mouseup.jsp",aG=aG||b("html"),aG.bind(aH,function(){aF.removeClass("jspActive"),aA&&clearTimeout(aA),aA=null,aG.unbind(aH)})}function D(){E(),aj&&k.bind("mousedown.jsp",function(aC){if(aC.originalTarget===a||aC.originalTarget==aC.currentTarget){var aD,aE=b(this),aF=aE.offset(),aG=aC.pageY-aF.top-r,aH=!0,aA=function(){var aL=aE.offset(),aI=aC.pageY-aL.top-av/2,aJ=ad*Z.scrollPagePercent,aK=al*aJ/(ag-ad);
if(0>aG){r-aK>aI?P.scrollByY(-aJ):G(aI)}else{if(!(aG>0)){return aB(),void 0}aI>r+aK?P.scrollByY(aJ):G(aI)}aD=setTimeout(aA,aH?Z.initialDelay:Z.trackClickRepeatFreq),aH=!1},aB=function(){aD&&clearTimeout(aD),aD=null,b(document).unbind("mouseup.jsp",aB)};return aA(),b(document).bind("mouseup.jsp",aB),!1}}),ak&&o.bind("mousedown.jsp",function(aC){if(aC.originalTarget===a||aC.originalTarget==aC.currentTarget){var aD,aE=b(this),aF=aE.offset(),aG=aC.pageX-aF.left-S,aH=!0,aA=function(){var aL=aE.offset(),aI=aC.pageX-aL.left-ao/2,aJ=ac*Z.scrollPagePercent,aK=C*aJ/(af-ac);if(0>aG){S-aK>aI?P.scrollByX(-aJ):I(aI)}else{if(!(aG>0)){return aB(),void 0}aI>S+aK?P.scrollByX(aJ):I(aI)}aD=setTimeout(aA,aH?Z.initialDelay:Z.trackClickRepeatFreq),aH=!1},aB=function(){aD&&clearTimeout(aD),aD=null,b(document).unbind("mouseup.jsp",aB)
};return aA(),b(document).bind("mouseup.jsp",aB),!1}})}function E(){o&&o.unbind("mousedown.jsp"),k&&k.unbind("mousedown.jsp")}function F(){b("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),n&&n.removeClass("jspActive"),aa&&aa.removeClass("jspActive")}function G(aA,aB){aj&&(0>aA?aA=0:aA>al&&(aA=al),aB===a&&(aB=Z.animateScroll),aB?P.animate(n,"top",aA,H):(n.css("top",aA),H(aA)))}function H(aD){aD===a&&(aD=n.position().top),ae.scrollTop(0),r=aD;var aE=0===r,aA=r==al,aB=aD/al,aC=-aB*(ag-ad);(T!=aE||l!=aA)&&(T=aE,l=aA,an.trigger("jsp-arrow-change",[T,l,g,s])),K(aE,aA),ab.css("top",aC),an.trigger("jsp-scroll-y",[-aC,aE,aA]).trigger("scroll")}function I(aA,aB){ak&&(0>aA?aA=0:aA>C&&(aA=C),aB===a&&(aB=Z.animateScroll),aB?P.animate(aa,"left",aA,J):(aa.css("left",aA),J(aA)))
}function J(aD){aD===a&&(aD=aa.position().left),ae.scrollTop(0),S=aD;var aE=0===S,aA=S==C,aB=aD/C,aC=-aB*(af-ac);(g!=aE||s!=aA)&&(g=aE,s=aA,an.trigger("jsp-arrow-change",[T,l,g,s])),L(aE,aA),ab.css("left",aC),an.trigger("jsp-scroll-x",[-aC,aE,aA]).trigger("scroll")}function K(aA,aB){Z.showArrows&&(R[aA?"addClass":"removeClass"]("jspDisabled"),V[aB?"addClass":"removeClass"]("jspDisabled"))}function L(aA,aB){Z.showArrows&&(Q[aA?"addClass":"removeClass"]("jspDisabled"),U[aB?"addClass":"removeClass"]("jspDisabled"))}function M(aB,aC){var aA=aB/(ag-ad);G(aA*al,aC)}function N(aB,aC){var aA=aB/(af-ac);I(aA*C,aC)}function O(aO,aB,aD){var aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN=0,aA=0;try{aE=b(aO)}catch(aC){return}for(aF=aE.outerHeight(),aG=aE.outerWidth(),ae.scrollTop(0),ae.scrollLeft(0);!aE.is(".jspPane");){if(aN+=aE.position().top,aA+=aE.position().left,aE=aE.offsetParent(),/^body|html$/i.test(aE[0].nodeName)){return
}}aH=v(),aJ=aH+ad,aH>aN||aB?aL=aN-Z.horizontalGutter:aN+aF>aJ&&(aL=aN-ad+aF+Z.horizontalGutter),isNaN(aL)||M(aL,aD),aI=u(),aK=aI+ac,aI>aA||aB?aM=aA-Z.horizontalGutter:aA+aG>aK&&(aM=aA-ac+aG+Z.horizontalGutter),isNaN(aM)||N(aM,aD)}function u(){return -ab.position().left}function v(){return -ab.position().top}function w(){var aA=ag-ad;return aA>20&&aA-v()<10}function x(){var aA=af-ac;return aA>20&&aA-u()<10}function y(){ae.unbind(p).bind(p,function(aE,aF,aG,aA){var aB=S,aC=r,aD=aE.deltaFactor||Z.mouseWheelSpeed;return P.scrollBy(aG*aD,-aA*aD,!1),aB==S&&aC==r})}function az(){ae.unbind(p)}function aX(){return !1}function aY(){ab.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(aA){O(aA.target,!1)})}function aZ(){ab.find(":input,a").unbind("focus.jsp")}function a0(){function aD(){var aE=S,aF=r;
switch(aA){case 40:P.scrollByY(Z.keyboardSpeed,!1);break;case 38:P.scrollByY(-Z.keyboardSpeed,!1);break;case 34:case 32:P.scrollByY(ad*Z.scrollPagePercent,!1);break;case 33:P.scrollByY(-ad*Z.scrollPagePercent,!1);break;case 39:P.scrollByX(Z.keyboardSpeed,!1);break;case 37:P.scrollByX(-Z.keyboardSpeed,!1)}return aB=aE!=S||aF!=r}var aA,aB,aC=[];ak&&aC.push(i[0]),aj&&aC.push(W[0]),ab.focus(function(){an.focus()}),an.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(aE){if(aE.target===this||aC.length&&b(aE.target).closest(aC).length){var aF=S,aG=r;switch(aE.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:aA=aE.keyCode,aD();break;case 35:M(ag-ad),aA=null;break;case 36:M(0),aA=null}return aB=aE.keyCode==aA&&aF!=S||aG!=r,!aB}}).bind("keypress.jsp",function(aE){return aE.keyCode==aA&&aD(),!aB
}),Z.hideFocus?(an.css("outline","none"),"hideFocus" in ae[0]&&an.attr("hideFocus",!0)):(an.css("outline",""),"hideFocus" in ae[0]&&an.attr("hideFocus",!1))}function bb(){an.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function bc(){if(location.hash&&location.hash.length>1){var aD,aA,aB=escape(location.hash.substr(1));try{aD=b("#"+aB+', a[name="'+aB+'"]')}catch(aC){return}aD.length&&ab.find(aB)&&(0===ae.scrollTop()?aA=setInterval(function(){ae.scrollTop()>0&&(O(aD,!0),b(document).scrollTop(ae.position().top),clearInterval(aA))},50):(O(aD,!0),b(document).scrollTop(ae.position().top)))}}function f(){b(document.body).data("jspHijack")||(b(document.body).data("jspHijack",!0),b(document.body).delegate("a[href*=#]","click",function(aG){var aH,aI,aJ,aA,aB,aC,aD=this.href.substr(0,this.href.indexOf("#")),aE=location.href;
if(-1!==location.href.indexOf("#")&&(aE=location.href.substr(0,location.href.indexOf("#"))),aD===aE){aH=escape(this.href.substr(this.href.indexOf("#")+1));try{aI=b("#"+aH+', a[name="'+aH+'"]')}catch(aF){return}aI.length&&(aJ=aI.closest(".jspScrollable"),aA=aJ.data("jsp"),aA.scrollToElement(aI,!0),aJ[0].scrollIntoView&&(aB=b(c).scrollTop(),aC=aI.offset().top,(aB>aC||aC>aB+b(c).height())&&aJ[0].scrollIntoView()),aG.preventDefault())}}))}function X(){var aE,aF,aA,aB,aC,aD=!1;ae.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(aH){var aG=aH.originalEvent.touches[0];aE=u(),aF=v(),aA=aG.pageX,aB=aG.pageY,aC=!1,aD=!0}).bind("touchmove.jsp",function(aH){if(aD){var aI=aH.originalEvent.touches[0],aJ=S,aG=r;return P.scrollTo(aE+aA-aI.pageX,aF+aB-aI.pageY),aC=aC||Math.abs(aA-aI.pageX)>5||Math.abs(aB-aI.pageY)>5,aJ==S&&aG==r
}}).bind("touchend.jsp",function(){aD=!1}).bind("click.jsp-touchclick",function(){return aC?(aC=!1,!1):void 0})}function Y(){var aA=v(),aB=u();an.removeClass("jspScrollable").unbind(".jsp"),an.replaceWith(j.append(ab.children())),j.scrollTop(aA),j.scrollLeft(aB),h&&clearInterval(h)}var Z,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,n,al,r,aa,C,S,W,k,q,ba,av,R,V,i,o,ay,ao,Q,U,h,m,t,am,P=this,T=!0,g=!0,l=!1,s=!1,j=an.clone(!1,!1).empty(),p=b.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";"border-box"===an.css("box-sizing")?(m=0,t=0):(m=an.css("paddingTop")+" "+an.css("paddingRight")+" "+an.css("paddingBottom")+" "+an.css("paddingLeft"),t=(parseInt(an.css("paddingLeft"),10)||0)+(parseInt(an.css("paddingRight"),10)||0)),b.extend(P,{reinitialise:function(aA){aA=b.extend({},Z,aA),aq(aA)},scrollToElement:function(aB,aC,aA){O(aB,aC,aA)
},scrollTo:function(aB,aC,aA){N(aB,aA),M(aC,aA)},scrollToX:function(aA,aB){N(aA,aB)},scrollToY:function(aA,aB){M(aA,aB)},scrollToPercentX:function(aA,aB){N(aA*(af-ac),aB)},scrollToPercentY:function(aA,aB){M(aA*(ag-ad),aB)},scrollBy:function(aB,aC,aA){P.scrollByX(aB,aA),P.scrollByY(aC,aA)},scrollByX:function(aC,aD){var aA=u()+Math[0>aC?"floor":"ceil"](aC),aB=aA/(af-ac);I(aB*C,aD)},scrollByY:function(aC,aD){var aA=v()+Math[0>aC?"floor":"ceil"](aC),aB=aA/(ag-ad);G(aB*al,aD)},positionDragX:function(aA,aB){I(aA,aB)},positionDragY:function(aA,aB){G(aA,aB)},animate:function(aD,aE,aA,aB){var aC={};aC[aE]=aA,aD.animate(aC,{duration:Z.animateDuration,easing:Z.animateEase,queue:!1,step:aB})},getContentPositionX:function(){return u()},getContentPositionY:function(){return v()},getContentWidth:function(){return af
},getContentHeight:function(){return ag},getPercentScrolledX:function(){return u()/(af-ac)},getPercentScrolledY:function(){return v()/(ag-ad)},getIsScrollableH:function(){return ak},getIsScrollableV:function(){return aj},getContentPane:function(){return ab},scrollToBottom:function(aA){G(al,aA)},hijackInternalLinks:b.noop,destroy:function(){Y()}}),aq(ap)}return d=b.extend({},b.fn.jScrollPane.defaults,d),b.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){d[this]=d[this]||d.speed}),this.each(function(){var i=b(this),f=i.data("jsp");f?f.reinitialise(d):(b("script",i).filter('[type="text/javascript"],:not([type])').remove(),f=new e(i,d),i.data("jsp",f))})},b.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:a,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:0.8}
}(jQuery,this);