define("header_province",function(){var y={};var w=$.cookie("provinceId")||1;var v="http://cart.yhd.com";var t=null;var s=[{key:"华北",value:[{id:2,name:"北京"},{id:3,name:"天津"},{id:4,name:"河北"},{id:32,name:"山西"},{id:8,name:"内蒙古"}]},{key:"华东",value:[{id:1,name:"上海"},{id:5,name:"江苏"},{id:6,name:"浙江"},{id:13,name:"安徽"},{id:14,name:"福建"},{id:16,name:"山东"}]},{key:"华南",value:[{id:20,name:"广东"},{id:21,name:"广西"},{id:22,name:"海南"}]},{key:"华中",value:[{id:15,name:"江西"},{id:17,name:"河南"},{id:18,name:"湖北"},{id:19,name:"湖南"}]},{key:"西南",value:[{id:7,name:"重庆"},{id:12,name:"四川"},{id:23,name:"贵州"},{id:24,name:"云南"},{id:25,name:"西藏"}]},{key:"西北",value:[{id:26,name:"陕西"},{id:27,name:"甘肃"},{id:28,name:"青海"},{id:30,name:"宁夏"},{id:29,name:"新疆"}]},{key:"东北",value:[{id:9,name:"辽宁"},{id:10,name:"吉林"},{id:11,name:"黑龙江"}]}];
var z=function(){var c=$.cookie("detail_yhdareas");var a=[];var b=[];var d=/([\d]+_[\d]+_[\d]+)_([\S^_]+_[\S^_]+_[\S^_]+)/;if(c&&d.test(c)){a=d.exec(c)[1].split("_");b=d.exec(c)[2].replace(/\<i\>\<\/i\>/g,"").split("_")}else{a=[w];for(var e=0;e<s.length;e++){var g=s[e].value;for(var f=0;f<g.length;f++){if(g[f].id==w){b=[g[f].name];break}}}}return[a,b]};var q=function(d){if(!d||d.length!=2){return}var a=d[0];var b=d[1];var c=a[0]+"_"+a[1]+"_"+a[2]+"_"+b[0]+"_"+b[1]+"_"+b[2];$.cookie("provinceId",a[0],{domain:no3wUrl,path:"/",expires:800});$.cookie("detail_yhdareas",c,{domain:no3wUrl,path:"/",expires:400})};var p=function(){var d=[];var c=z();var a=c[0];var b=c[1];d.push("<div class='yhd_area_select'>");d.push("<div class='yhd_address'>");d.push("<span class='yhd_val_text' data-value='"+a.join("_")+"'>"+b.join("|")+"</span>");
d.push("<i></i>");d.push("</div>");d.push("<div class='yhd_tab_detail  none'>");d.push("<div class='yhd_area_tab  clearfix'>");d.push("<span data-value='"+a[0]+"' class='yhd_on'><em>"+b[0]+"</em></span>");d.push("<span data-value='"+(a.length>1?a[1]:"")+"' class=''><em>"+(b.length>1?b[1]:"请选择市")+"</em></span>");d.push("<span data-value='"+(a.length>2?a[2]:"")+"' class=''><em>"+(b.length>2?b[2]:"请选择区")+"</em></span>");d.push("</div>");d.push("<div class='yhd_area_box'>");d.push("<div class='yhd_item yhd_first_area'>");for(var e=0;e<s.length;e++){var g=s[e].value;d.push("<dl class='clearfix'>");d.push("<dt>"+s[e].key+"：</dt>");for(var f=0;f<g.length;f++){d.push("<dd><a data-value='"+g[f].id+"' class='"+(a[0]==g[f].id?"hd_cart_cur":"")+"' href='javascript:;'>"+g[f].name+"</a></dd>")}d.push("</dl>")
}d.push("</div>");d.push("<div class='yhd_item yhd_second_area none'>");d.push("</div>");d.push("<div class='yhd_item yhd_third_area none' data-tpc='1'>");d.push("</div>");d.push("</div>");d.push("<span class='yhd_close_btn'>×</span>");d.push("</div>");d.push("</div>");return d.join("")};var r=function(a,b){if(!a){return}var d=v+"/cart/opt/getCountysByCity.do?callback=?";var e=function(f){var i=[];i.push("<dl class='clearfix'>");for(var j=0;j<f.length;j++){var k=f[j];i.push("<dd><a data-value='"+k.id+"' href='javascript:;'>"+k.name+"</a></dd>")}i.push("</dl>");var h=t.find(".yhd_area_tab span:eq(2)");var g=t.find(".yhd_third_area");g.html(i.join(""));h.attr("data-loaded",1);if(b){b(f)}};var c={cityId:a};$.getJSON(d,c,function(f){if(f&&f.code=="00000000"){e(f.data)}})};var o=function(a,b){if(!a){return
}var e=v+"/cart/opt/getCitysByProvince.do?callback=?";var d=function(f){var i=[];i.push("<dl class='clearfix'>");for(var j=0;j<f.length;j++){var k=f[j];i.push("<dd><a data-value='"+k.id+"' href='javascript:;'>"+k.name+"</a></dd>")}i.push("</dl>");var h=t.find(".yhd_area_tab span:eq(1)");var g=t.find(".yhd_second_area");g.html(i.join(""));h.attr("data-loaded",1);if(b){b(f)}};var c={provinceId:a};$.getJSON(e,c,function(f){if(f&&f.code=="00000000"){d(f.data)}})};var x=function(){var g=t.find(".yhd_address");var d=t.find(".yhd_tab_detail");var f=t.find(".yhd_area_mask");var h=t.find(".yhd_area_tab span");if(g.hasClass("select")){return}var b=$(h[0]).attr("data-value");var a=$(h[1]).attr("data-value");var i=$(h[2]).attr("data-value");var j=$(h[1]).attr("data-loaded");var c=$(h[2]).attr("data-loaded");
if(a!=""&&j!=1){o(b)}if(i!=""&&c!=1){r(a)}g.addClass("select");d.slideDown();f.show();var e=$("div.yhd_cart_scrollwrap",t).outerHeight();if(e>$("div.yhd_cart_list",t).height()+$("div.yhd_area_wrap",t).outerHeight()){d.css("width","334px")}else{d.css("width","317px")}$("div.yhd_cart_scrollwrap",t).css("position","static")};var u=function(){var a=t.find("div.yhd_address");var c=t.find("div.yhd_tab_detail");var b=t.find("div.yhd_area_mask");a.removeClass("select");c.slideUp();b.hide();$("div.yhd_cart_scrollwrap",t).css("position","relative")};function n(){t.delegate("div.yhd_address","click",function(){x();return false});t.delegate("span.yhd_close_btn","click",function(){u();return false});t.delegate("div.yhd_area_tab span","click",function(){var a=t.find("div.yhd_area_tab span");var c=t.find("div.yhd_area_box div.yhd_item");
var b=$(this).index();a.eq(b).addClass("yhd_on").siblings().removeClass("yhd_on");c.hide().eq(b).show();return false});t.delegate("div.yhd_first_area dd a","click",function(){var a=$(this).attr("data-value");var c=$(this).text();var b=function(){var d=t.find("div.yhd_area_tab span");var e=t.find("div.yhd_area_box div.yhd_item");$(d[0]).attr("data-value",a);$(d[0]).find("em").text(c);d.eq(1).addClass("yhd_on").siblings().removeClass("yhd_on");e.hide().eq(1).show();$(d[1]).attr("data-value","");$(d[1]).find("em").text("请选择市");$(d[2]).attr("data-value","");$(d[2]).find("em").text("请选择区");$(e[2]).html("")};o(a,b);return false});t.delegate("div.yhd_second_area dd a","click",function(){var a=$(this).attr("data-value");var c=$(this).text();var b=function(){var d=t.find("div.yhd_area_tab span");var e=t.find("div.yhd_area_box div.yhd_item");
$(d[1]).attr("data-value",a);$(d[1]).find("em").text(c);d.eq(2).addClass("yhd_on").siblings().removeClass("yhd_on");e.hide().eq(2).show()};r(a,b);return false});t.delegate("div.yhd_third_area dd a","click",function(){var d=t.find("div.yhd_area_tab span");var c=$(this).attr("data-value");var a=$(this).text();$(d[2]).attr("data-value",c).find("em").text(a);var e=[$(d[0]).attr("data-value"),$(d[1]).attr("data-value"),$(d[2]).attr("data-value")];var f=[$(d[0]).find("em").text(),$(d[1]).find("em").text(),$(d[2]).find("em").text()];var b=t.find("div.yhd_area_wrap div.yhd_address span");b.attr("data-value",e.join("_"));b.text(f.join("|"));q([e,f]);u();if(w!=e[0]){setAddressCity(e[0])}})}y.initProvince=function(a){t=a;a.addClass("yhd_province");var b=p();t.append(b);n()};return y});