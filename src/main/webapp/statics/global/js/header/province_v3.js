define("header_province",function(){var b={};var d=$.cookie("provinceId")||1;var e="http://cart.yhd.com";var g=null;var h=[{key:"华北",value:[{id:2,name:"北京"},{id:3,name:"天津"},{id:4,name:"河北"},{id:32,name:"山西"},{id:8,name:"内蒙古"}]},{key:"华东",value:[{id:1,name:"上海"},{id:5,name:"江苏"},{id:6,name:"浙江"},{id:13,name:"安徽"},{id:14,name:"福建"},{id:16,name:"山东"}]},{key:"华南",value:[{id:20,name:"广东"},{id:21,name:"广西"},{id:22,name:"海南"}]},{key:"华中",value:[{id:15,name:"江西"},{id:17,name:"河南"},{id:18,name:"湖北"},{id:19,name:"湖南"}]},{key:"西南",value:[{id:7,name:"重庆"},{id:12,name:"四川"},{id:23,name:"贵州"},{id:24,name:"云南"},{id:25,name:"西藏"}]},{key:"西北",value:[{id:26,name:"陕西"},{id:27,name:"甘肃"},{id:28,name:"青海"},{id:30,name:"宁夏"},{id:29,name:"新疆"}]},{key:"东北",value:[{id:9,name:"辽宁"},{id:10,name:"吉林"},{id:11,name:"黑龙江"}]}];
var a=function(){var r=$.cookie("detail_yhdareas");var t=[];var s=[];var q=/([\d]+_[\d]+_[\d]+)_([\S^_]+_[\S^_]+_[\S^_]+)/;if(r&&q.test(r)){t=q.exec(r)[1].split("_");s=q.exec(r)[2].replace(/\<i\>\<\/i\>/g,"").split("_")}else{t=[d];for(var p=0;p<h.length;p++){var n=h[p].value;for(var o=0;o<n.length;o++){if(n[o].id==d){s=[n[o].name];break}}}}return[t,s]};var j=function(n){if(!n||n.length!=2){return}var q=n[0];var p=n[1];var o=q[0]+"_"+q[1]+"_"+q[2]+"_"+p[0]+"_"+p[1]+"_"+p[2];$.cookie("provinceId",q[0],{domain:no3wUrl,path:"/",expires:800});$.cookie("detail_yhdareas",o,{domain:no3wUrl,path:"/",expires:400})};var k=function(){var q=[];var r=a();var t=r[0];var s=r[1];q.push("<div class='yhd_area_select'>");q.push("<div class='yhd_address'>");q.push("<span class='yhd_val_text' data-value='"+t.join("_")+"'>"+s.join("|")+"</span>");
q.push("<i></i>");q.push("</div>");q.push("<div class='yhd_tab_detail  none'>");q.push("<div class='yhd_area_tab  clearfix'>");q.push("<span data-value='"+t[0]+"' class='yhd_on'><em>"+s[0]+"</em></span>");q.push("<span data-value='"+(t.length>1?t[1]:"")+"' class=''><em>"+(s.length>1?s[1]:"请选择市")+"</em></span>");q.push("<span data-value='"+(t.length>2?t[2]:"")+"' class=''><em>"+(s.length>2?s[2]:"请选择区")+"</em></span>");q.push("</div>");q.push("<div class='yhd_area_box'>");q.push("<div class='yhd_item yhd_first_area'>");for(var p=0;p<h.length;p++){var n=h[p].value;q.push("<dl class='clearfix'>");q.push("<dt>"+h[p].key+"：</dt>");for(var o=0;o<n.length;o++){q.push("<dd><a data-value='"+n[o].id+"' class='"+(t[0]==n[o].id?"hd_cart_cur":"")+"' href='javascript:;'>"+n[o].name+"</a></dd>")}q.push("</dl>")
}q.push("</div>");q.push("<div class='yhd_item yhd_second_area none'>");q.push("</div>");q.push("<div class='yhd_item yhd_third_area none' data-tpc='1'>");q.push("</div>");q.push("</div>");q.push("<span class='yhd_close_btn'>×</span>");q.push("</div>");q.push("</div>");return q.join("")};var i=function(r,q){if(!r){return}var o=e+"/cart/opt/getCountysByCity.do?callback=?";var n=function(x){var u=[];u.push("<dl class='clearfix'>");for(var t=0;t<x.length;t++){var s=x[t];u.push("<dd><a data-value='"+s.id+"' href='javascript:;'>"+s.name+"</a></dd>")}u.push("</dl>");var v=g.find(".yhd_area_tab span:eq(2)");var w=g.find(".yhd_third_area");w.html(u.join(""));v.attr("data-loaded",1);if(q){q(x)}};var p={cityId:r};$.getJSON(o,p,function(s){if(s&&s.code=="00000000"){n(s.data)}})};var l=function(r,q){if(!r){return
}var n=e+"/cart/opt/getCitysByProvince.do?callback=?";var o=function(x){var u=[];u.push("<dl class='clearfix'>");for(var t=0;t<x.length;t++){var s=x[t];u.push("<dd><a data-value='"+s.id+"' href='javascript:;'>"+s.name+"</a></dd>")}u.push("</dl>");var v=g.find(".yhd_area_tab span:eq(1)");var w=g.find(".yhd_second_area");w.html(u.join(""));v.attr("data-loaded",1);if(q){q(x)}};var p={provinceId:r};$.getJSON(n,p,function(s){if(s&&s.code=="00000000"){o(s.data)}})};var c=function(){var v=g.find(".yhd_address");var o=g.find(".yhd_tab_detail");var w=g.find(".yhd_area_mask");var u=g.find(".yhd_area_tab span");if(v.hasClass("select")){return}var q=$(u[0]).attr("data-value");var r=$(u[1]).attr("data-value");var t=$(u[2]).attr("data-value");var s=$(u[1]).attr("data-loaded");var p=$(u[2]).attr("data-loaded");
if(r!=""&&s!=1){l(q)}if(t!=""&&p!=1){i(r)}v.addClass("select");o.slideDown();w.show();var n=$("div.yhd_cart_scrollwrap",g).outerHeight();if(n>$("div.yhd_cart_list",g).height()+$("div.yhd_area_wrap",g).outerHeight()){o.css("width","334px")}else{o.css("width","317px")}$("div.yhd_cart_scrollwrap",g).css("position","static")};var f=function(){var p=g.find("div.yhd_address");var n=g.find("div.yhd_tab_detail");var o=g.find("div.yhd_area_mask");p.removeClass("select");n.slideUp();o.hide();$("div.yhd_cart_scrollwrap",g).css("position","relative")};function m(){g.delegate("div.yhd_address","click",function(){c();return false});g.delegate("span.yhd_close_btn","click",function(){f();return false});g.delegate("div.yhd_area_tab span","click",function(){var p=g.find("div.yhd_area_tab span");var n=g.find("div.yhd_area_box div.yhd_item");
var o=$(this).index();p.eq(o).addClass("yhd_on").siblings().removeClass("yhd_on");n.hide().eq(o).show();return false});g.delegate("div.yhd_first_area dd a","click",function(){var p=$(this).attr("data-value");var n=$(this).text();var o=function(){var r=g.find("div.yhd_area_tab span");var q=g.find("div.yhd_area_box div.yhd_item");$(r[0]).attr("data-value",p);$(r[0]).find("em").text(n);r.eq(1).addClass("yhd_on").siblings().removeClass("yhd_on");q.hide().eq(1).show();$(r[1]).attr("data-value","");$(r[1]).find("em").text("请选择市");$(r[2]).attr("data-value","");$(r[2]).find("em").text("请选择区");$(q[2]).html("")};l(p,o);return false});g.delegate("div.yhd_second_area dd a","click",function(){var p=$(this).attr("data-value");var n=$(this).text();var o=function(){var r=g.find("div.yhd_area_tab span");var q=g.find("div.yhd_area_box div.yhd_item");
$(r[1]).attr("data-value",p);$(r[1]).find("em").text(n);r.eq(2).addClass("yhd_on").siblings().removeClass("yhd_on");q.hide().eq(2).show()};i(p,o);return false});g.delegate("div.yhd_third_area dd a","click",function(){var p=g.find("div.yhd_area_tab span");var q=$(this).attr("data-value");var s=$(this).text();$(p[2]).attr("data-value",q).find("em").text(s);var o=[$(p[0]).attr("data-value"),$(p[1]).attr("data-value"),$(p[2]).attr("data-value")];var n=[$(p[0]).find("em").text(),$(p[1]).find("em").text(),$(p[2]).find("em").text()];var r=g.find("div.yhd_area_wrap div.yhd_address span");r.attr("data-value",o.join("_"));r.text(n.join("|"));j([o,n]);f();if(d!=o[0]){setAddressCity(o[0])}})}b.initProvince=function(o){g=o;o.addClass("yhd_province");var n=k();g.append(n);m()};return b});