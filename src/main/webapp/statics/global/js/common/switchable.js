(function(){loli=window.loli||{};loli.ui=loli.ui||{};loli.ui.switchable=function(c,b,d){function a(B,D,j){var x=this,l={triggerType:"mouseenter",effect:"none",easing:"easeOutQuart",duration:500,delay:100,interval:5000,visible:1,steps:1,autoPlay:false,circular:false,prefix:"L_tab"};var D=x.config=$.extend(l,D);if(D.autoPlay){D.circular=true}if(D.triggerType=="click"){D.delay=0}x.activeIndex=0;var r=D.effect,A=D.steps,i=D.visible,f=D.duration,C=D.panelClass,E=D.circular,u=D.easing,y=D.prefix,s=y+"_prev",e=y+"_prev_disabled",t=y+"_next",m=y+"_next_disabled";var o=B.find("."+y+"_panel"),v=o.first(),q=B.find("."+y+"_trigger"),h=B.find("."+y+"_arrow");var g=o.length,z=g/i;var k;q.bind(D.triggerType,function(){var H=$(this).index(),F=x.activeIndex;if(H==F){return}var G=(H>F)?"forward":"backward";k=setTimeout(function(){x.switchTo(H,G)
},D.delay)});if(D.triggerType=="mouseenter"){q.bind("mouseleave",function(){clearTimeout(k)})}h.bind("click",function(){if((r=="scrollX"||r=="scrollY")&&o.parent().is(":animated")){return}var G=$(this);if(G.hasClass(e)||G.hasClass(m)){return}if(G.hasClass(s)){var F=x.activeIndex-1;x.switchTo(x.activeIndex-1,"backward")}else{x.switchTo(x.activeIndex+1,"forward")}});var p=function(I){var F=x.activeIndex,H,G;if(F>-1){H=o.slice(F*i,(F+1)*i)}else{H=null}G=o.slice(I*i,(I+1)*i);return{fromPanels:H,toPanels:G}};x.switchTo=function(I,H){var G=x.activeIndex;if(H=="backward"&&G===0){I=I+z}else{if(H=="forward"&&G==z-1){I=I-z}}q.eq(G).removeClass("cur");q.eq(I).addClass("cur");var F=w[r];F(I,H);x.activeIndex=I;if(!E){if(x.activeIndex===0){B.find("."+s).addClass(e)}else{if(x.activeIndex==(z-1)){B.find("."+t).addClass(m)
}else{h.removeClass(e+" "+m)}}}x.toPanels=p(I).toPanels;j&&j.call(x)};var w={none:function(G){var F=p(G);F.fromPanels.hide();F.toPanels.show()},fade:function(G){var F=p(G);F.fromPanels.animate({opacity:0},f);F.toPanels.animate({opacity:1},f)},scroll:function(L,O){var Q=O==="forward",R=D.effect=="scrollX",N=o.parent();N.stop();if(R){var H="left",I="marginLeft",J=v.outerWidth(true),F=J*A}else{var H="top",I="marginTop",J=v.outerHeight(true),F=J*A}var G={};if((Q&&L===0)||(!Q&&L===z-1)){var P={position:"relative"},K=p(L).toPanels;P[H]=(Q?1:-1)*F*z;K.css(P);G[I]=Q?-F*z:F;N.animate(G,f,u,function(){$(this).css(I,Q?0:-F*(z-1));M(K,H)})}else{G[I]=-L*F;N.animate(G,f,u,function(){if(o.eq(0).css("position")=="relative"){M(o.slice(0,i),H)}else{if(o.eq(g-1).css("position")=="relative"){M(o.slice((z-1)*i,z*i),H)
}}})}function M(S,U){var T={position:"static"};T[U]=0;S.css(T)}}};w.scrollX=w.scrollY=w.scroll;var n=function(){if(!E){B.find("."+s).addClass(e);if(g<=i){B.find("."+t).addClass(m)}}switch(r){case"none":o.slice(0,i).show();break;case"fade":o.slice(0,i).css("opacity",1);break;default:break}B.data("L_inited",true)};if(!B.data("L_inited")){n()}if(D.autoPlay){x.start();B.hover(function(){x.stop()},function(){x.start()})}return this}a.prototype.start=function(){var e=this;if(e.autoPlay){return}e.autoPlay=setInterval(function(){e.switchTo(e.activeIndex+1,"forward")},e.config.interval)};a.prototype.stop=function(){clearInterval(this.autoPlay);this.autoPlay=undefined};return new a(c,b,d)}})();