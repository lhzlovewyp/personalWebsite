(function(c){var a={urlMap:[],resultMap:[],loadedCount:0,config:{},cdnConfig:function(d){a.config=d;var e=a.config.random;if(e){var f=Math.floor(Math.random()*100+1);if(f<=e){a.config.canDetection=true}}},canDetection:function(){var d=window.navigator.userAgent.indexOf("Chrome")!==-1;if(d&&window.performance&&a.config.canDetection){return true}return false},cdnAddObject:function(e,d){if(!a.canDetection()){return}a.urlMap.push({key:e,url:d+"?r="+Math.random()})},cdnDetection:function(g){if(!a.canDetection()){return}var d=a.urlMap,f=d.length;for(var h=0;h<f;h++){var e=d[h];this.loadResource(e)}},loaded:function(){var d=a;if(d.urlMap.length==d.loadedCount){var e=d.config.callback;e();return}},loadResource:function(e){var d=new Image();d.onload=function(){try{var f=window.performance.getEntriesByName(e.url);
if(f==null||f.length<1){return}a.loadedCount++;e.costTime=Math.round(f[0].responseEnd-f[0].startTime);a.resultMap.push(e);a.loaded()}catch(g){}};d.src=e.url}};var b=window.loli||(window.loli={});b.cdnDetection=a;jQuery(document).ready(function(){var e=c("body").attr("data-cdnDetection");if(e=="-1"||e==null){return}e=jQuery.parseJSON(e);if(!e.random||!e.child){return}var f=e.child,g=f.length;if(g<1){return}var d=b.cdnDetection;d.cdnConfig({random:e.random,callback:function(){var k=d.resultMap,i="http://opsdev.yhd.com/trace/?time="+new Date().getTime();var m="d=";var s=k.length;for(var r=0;r<s;r++){var q=k[r];var o=q.key;var n="0.0.0.0";var l=0;var j=q.costTime;m+=o+","+n+","+l+","+j;if(r<s-1){m=m+";"}}var p=new Image();p.src=i+"&"+m}});setTimeout(function(){for(var i=0;i<g;i++){var j=f[i];d.cdnAddObject(j.key,j.url)
}d.cdnDetection()},10000)})})(jQuery);