define(["global_env","tracker_ref_yhd.global_spm"],function(b,g){var a={};var d=b.isInApp();var e=b.isWireless2();var f=URLPrefix.item||"http://m.yhd.com";var c=URLPrefix.tuan||"http://m.yhd.com";a.login=function(l,k){if(e){var j={};if(k){var i=g.getData(k,k.tagName);if(i){j.tp=i.tp;j.tc=i.tc}}a.gotoWireless2Login(j)}else{var h=globalLoginUrl+"?returnUrl="+l;if(d){h=websiteurl+"/mw/login"}if(b.adapterNewListenner()){g.refreshPage(h,k,k.tagName)}else{document.location=h}}};a.productDetail=function(n,m,r,k,s){var q="0";var p="0";if(r!="0"&&r!=null&&r!="null"&&r!=""&&typeof(r)!="undefined"){q=r+"_0_landingpage";p=r+"_landingpage"}var h="";var l="store_product";if(e){var j={pmId:n};if(p!="0"){j.promotionId=p}if(k){var i=g.getData(k,s);if(i){j.tp=i.tp;j.tc=i.tc}}a.gotoWireless2Detail(j)}else{if(d){var o=websiteurl+"/"+l+"/"+m+"_"+q;
o=o+"?pmId="+n;if(b.adapterNewListenner()){g.refreshPage(o,k,s)}else{document.location=o}}else{if(r&&r!="0"){h+=f+"/item/lp/"+r+"_"+n}else{h+=f+"/item/"+n}g.refreshPage(h,k,s)}}};a.grouponDetail=function(o,i,n,h){var k="";if(i==1){k="mall_cmsgroupon"}else{k="store_cmsgroupon"}if(e){var m={grouponid:o};if(n){var j=g.getData(n,h);if(j){m.tp=j.tp;m.tc=j.tc}}a.gotoWireless2GrouponDetail(m)}else{if(d){var l=websiteurl+"/"+k+"/"+o+"/"+areaId;if(b.adapterNewListenner()){g.refreshPage(l,n,h)}else{document.location=l}}else{var l=c+"/tuan/detail/"+o;g.refreshPage(l,n,h)}}};a.gotoWireless2Detail=function(h){b.goToNative("yhd://productdetail/",h)};a.gotoWireless2GrouponDetail=function(h){b.goToNative("yhd://grouponsummary/",h)};a.gotoWireless2Login=function(h){b.goToNative("yhd://login/",h)};return a});