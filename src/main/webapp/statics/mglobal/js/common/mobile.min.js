/* yhdMobile 2013-11-12 by fwx*/
function roll_slide(F,E,D){function C(){z=setInterval(function(){var e=$(v).eq(0).outerWidth(!0),d=$(w).index($(y+" > .slideNavOut > .slide_nav > li.cur")),f=d+1;d==u-1&&(f=0),$(x).animate({marginLeft:"-="+e},s,function(){$(v).eq(0).appendTo($(x)).parent().css("marginLeft",0),$(w).eq(f).addClass("cur").siblings().removeClass("cur")})},r)}function B(){var e=$(v).first().outerWidth(!0),d=$(w).index($(y+" > .slideNavOut > .slide_nav > li.cur")),f=d+1;d==u-1&&(f=0),$(w).eq(f).addClass("cur").siblings().removeClass("cur"),$(x).animate({marginLeft:"-="+e},s,function(){$(v).eq(0).appendTo($(x)).parent().css("marginLeft",0)})}function A(){var e=$(v).last().outerWidth(!0),d=$(w).index($(y+" > .slideNavOut > .slide_nav > li.cur")),f=d-1;0==d&&(f=u-1),$(w).eq(f).addClass("cur").siblings().removeClass("cur"),$(v).last().prependTo($(x)).parent().css("marginLeft","-"+e+"px"),$(x).animate({marginLeft:0},s)
}for(var z,y="#"+F,x=y+" .contIn",w=y+" > .slideNavOut > .slide_nav > li",v=x+" > a",u=$(v).length,t=0,s=D>0?D:340,r=E>0?E:5000,q=u-1;q>=0;q--){t+=$(v).eq(q).outerWidth(!0),$(v).eq(q).addClass("r_"+q)}$(x).width(t),C(),$(v).bind("vmouseup",function(){C()}),$(v).bind("vmouseover",function(){clearInterval(z)}),$(v).bind("swipeleft",function(){B()}),$(v).bind("swiperight",function(){A()}),$(".nextSlider").bind("click",function(){B()}),$(".preSlider").bind("click",function(){A()})}function dt_bt(e){var d="#"+e,f=120;$(d+" > dt").each(function(){$(this).attr("id","link_"+$(d+" > dt").index(this))}),$(d+" > dt").bind("click",function(){$(this).hasClass("cur")?($(this).removeClass("cur"),$(this).next("dd").slideUp(f)):($(this).addClass("cur").siblings("dt").removeClass(),$(this).next("dd").slideDown(f).siblings("dd").slideUp(f));
var b="#"+$(this).attr("id");return setTimeout(function(){window.location.hash=b},f+40),!1})}function num_buy(){$(".num_reduc").bind("click",function(){var e=parseInt($(this).parent().siblings(".coupMinValue").val(),10),d=$(this).parent().siblings(".coupNumLimit").length,f=Math.abs($(this).siblings(".buy_num").val());return f==e&&0!=d?($(this).addClass("grey").parent().siblings(".coupNumLimit").show().find("em").text(e),!1):(2==f?$(this).addClass("grey"):$(this).parent().siblings(".coupNumLimit").hide(),$(this).siblings(".buy_num").val(f>1?f-1:1),$(this).siblings(".num_incre").removeClass("grey"),void 0)}),$(".num_incre").bind("click",function(){var e=parseInt($(this).parent().siblings(".coupMaxValue").val(),10),d=$(this).parent().siblings(".coupNumLimit").length,f=Math.abs($(this).siblings(".buy_num").val());
return $(this).siblings().find(".num_reduc").removeClass("grey"),f==e&&0!=d?($(this).addClass("grey").parent().siblings(".coupNumLimit").show().find("em").text(e),!1):($(this).parent().siblings(".coupNumLimit").hide(),$(this).siblings(".buy_num").val(f+1),$(this).siblings(".num_reduc").removeClass("grey"),void 0)})}function inputBuynum(){function b(h){var g=$(".buy_num").eq(h).val(),m=$(".buycarForm li").eq(h).find("i:eq(0)").text(),l=$(".buycarForm li").eq(h).find("i:eq(1)").text(),k=$(".buycarForm li").eq(h).find("i:eq(2)").text(),j=$(".buycarForm li").eq(h).find("i:eq(3)").text();document.getElementById("strquantity").value=g,document.getElementById("merchantId_id").value=l,document.getElementById("productId_id").value=m,document.getElementById("updateType_id").value=k,document.getElementById("langpage_id").value=j,document.forms.productForm.submit()
}$(".buy_num").bind("blur",function(){var a=$(".buy_num").index(this);b(a)}),$(".num_reduc").bind("click",function(){var a=$(".num_reduc").index(this);b(a)}),$(".num_incre").bind("click",function(){var a=$(".num_incre").index(this);b(a)})}function sort_selected(d){var c="."+d;$("h2",c).click(function(){$(this).hasClass("on")?$(this).removeClass("on"):$(this).addClass("on").siblings("h2").removeClass()}),$("li",c).click(function(){var b=$(this).text(),e=$("ul",c).index($(this).parent("ul"));$(this).addClass("hit").siblings("li").removeClass(),$("h2:eq("+e+") > cite",c).text(b).show(),$("form.selected_form > input.sort_"+(e+1)).val(b),$(this).parent().prev("h2").removeClass("on")}),$("form.selected_form > span.reset").click(function(){$("form.selected_form > input[class^=sort_]").val(""),$("h2 > cite",c).text(""),$("ul > li",c).removeClass()
})}function radio_bg(f){var e="."+f,h=e+" > label",g=e+" > input:hidden";$(h).click(function(){$(this).addClass("radio2").removeClass("radio").siblings(".radio2").addClass("radio").removeClass("radio2"),$(g).val($(this).children("ins").text())})}function config_oder_address(){$(".address_odc > sup").click(function(){var d=$(this).attr("class");if("edite"==d){address_eidt()}else{if("up"==d){var c="";$(".address_radio > .radio2 > span").each(function(){c+="<li>"+$(this).text()+"</li>"}),$("<ul class='show'>"+c+"</ul>").insertBefore($(".address_radio")),$(".address_odc > sup.up").text("修改").attr("class","edite"),$(".address_radio").hide()}}})}function address_slt(){var b=$(".address_odc > .address_radio > .radio2 > ins").text();return $(".address_odc > input:hidden").val(b),!1}function address_eidt(){return $(".address_odc > ul").remove(),$(".address_radio").show().siblings("ul").hide(),$(".address_odc > sup").attr("class","up").text("确定"),!1
}function invoices_ny(){radio_bg("yesno"),$(".yesno",".invoices_nd").siblings().hide(),$("label",".invoices_nd").click(function(){var d=$(this).text(),c=$(this).children("ins").text();d=d.replace(c,""),$("h2 > cite",".invoices_nd").text(d),d.indexOf("否")>-1?$(".yesno",".invoices_nd").siblings().hide():$(".yesno",".invoices_nd").siblings().show()})}function checkbox(){$("label[class=checkbox],label[class=checkbox2]").click(function(){var b=$(this).attr("class");return b.indexOf("checkbox2")>-1?($(this).attr("class","checkbox"),$("input",this).val(""),!1):($(this).attr("class","checkbox2"),$("input",this).val($("ins",this).text()),!1)})}function buy_car(g,f,k){if("li"==k){var j="."+g,h=f?j+" > ul > li > .buy_car":j+" li:not('.soldOut') .buy_car"}else{if("dl"==k){var j="."+g,h=f?j+" > dl > dd > .buy_car":j+" dl:not('.soldOut') .buy_car"
}}$(h).live("click",function(){$(this).closest("dl, li").hasClass("isMall")||$(this).hasClass("yhd_series")||$(this).hasClass("landingpage_nolog")||($(this).parent().next().show(),$(this).closest("dl").siblings().find(".ins").hide())}),$(".ins .goBuy").live("click",function(){return $(this).parent().hide(),!1})}function fOpenCateByHash(){var b=window.location.hash;nCateHash=b.replace("#",""),""!=nCateHash&&null!=nCateHash&&"undefined"!=typeof nCateHash&&$("#"+nCateHash).addClass("cur").next().show()}function fAddCartNum(){var e=parseInt($(".headVerTen .cart em").text(),10);if($("#buycount").length>0){var d=parseInt($(".buy_num").val(),10),f=e+d;$(".headVerTen .cart em").text(f)}else{$(".headVerTen .cart em").text(e+1)}}function fShowHide(d,c){$(d).click(function(){return $(this).hasClass("showCon")?($(c).hide(),$(this).removeClass("showCon")):($(c).show(),$(this).addClass("showCon")),!1
})}function fChooseColorSizeTip(b){$(".colChose").length>0&&$(".sizChose").length>0?$(b).live("click",function(){return $(".colSizResult b:eq(0)").text(),$(".colSizResult b:eq(1)").text(),0==$(".colChose .checked").length&&0!=$(".sizChose .checked").length?(showColorTip(),!1):0!=$(".colChose .checked").length&&0==$(".sizChose .checked").length?(showSizeTip(),!1):0==$(".colChose .checked").length&&0==$(".sizChose .checked").length?(showColorTip(),!1):$(".colChose .out").hasClass("checked")?(showColorTip(),!1):void 0}):$(b).live("click",function(){return $(".colSizResult b:eq(0)").text(),0==$(".colChose .checked").length?($(".tipMask, .tip01").show(),fSetAlertTipPosition(),$(".tip01 li").not(".out").click(function(){$(this).addClass("checked").siblings().removeClass("checked");var d=$(".tip01 li.checked").text().replace(/\s*/g,"");
colorValue=d;var c=$(".tip01 li").index($(this));$(".colSizResult b:eq(0)").replaceWith("<b>"+d+"</b>"),$("#choosecolor").attr("value",d),$(".colChose i").eq(c).addClass("checked").siblings().removeClass("checked"),$(".tipMask, .tip01").hide()}),!1):void 0}),$(".tipClose, .tip h4 b").click(function(){$(".tipMask, .tip").hide()})}function backToEdit(){$(".backToEdit").click(function(){var b=$(".colChose i").index($(".checked"));$(".tip01 li").eq(b).addClass("checked").siblings().removeClass("checked"),$(".tip02").hide(),showColorTip()})}function showColorTip(){$(".tipMask, .tip01").show(),fSetAlertTipPosition(),$(".tip01 li").not(".out").click(function(){$(this).addClass("checked").siblings().removeClass("checked");var d=$(".tip01 li.checked").text().replace(/\s*/g,"");colorValue=d;var c=$(".tip01 li").index($(this));
$(".colSizResult b:eq(0), .tip02 .result b:eq(0)").replaceWith("<b>"+d+"</b>"),$("#choosecolor").attr("value",d),$(".colChose i").eq(c).addClass("checked").siblings().removeClass("checked"),0==$(".sizChose .checked").length&&0!=$(".colChose .checked").length?($(".tipMask, .tip01").hide(),showSizeTip()):$(".tipMask, .tip01").hide()})}function showSizeTip(){$(".tipMask, .tip02").show(),fSetAlertTipPosition();var b=$(".colChose i.checked").text().replace(/\s*/g,"");$(".tip02 .result b:eq(0)").replaceWith("<b>"+b+"</b>"),$(".tip02 li").not(".out").click(function(){$(this).addClass("checked").siblings().removeClass("checked");var a=$(".tip02 li.checked").text().replace(/\s*/g,""),d=$(".tip02 li").index($(this));colorValue=b,sizeValue=a,$(".colSizResult b:eq(1)").replaceWith("<b>"+a+"</b>"),$("#choosesize").attr("value",a),$(".sizChose i").eq(d).addClass("checked").siblings().removeClass("checked"),$(".tipMask, .tip02").hide(),$("#colSizResult2 b:eq(1)").text(sizeValue),$("#colSizResult1 b:eq(1)").hide()
}),backToEdit()}function fClickDisplayTip(e){var d,f=$(".tip .checked span").text();$("#payMethod").attr("value",f),$(e).click(function(){return d=$(this),$(".tipMask, .tip:eq(0)").show(),fSetAlertTipPosition(),!1}),$(".tip li").not(".out").click(function(){$(this).addClass("checked").siblings().removeClass("checked"),clickElementIndex=$(".tip li.checked input").val();var b=$(".tip .checked span").text().replace(/\s*/g,"");$(".tipMask, .tip").hide(),$(".payMethod b").text(b),$(".payNowBtn").attr("id","payvalue"+clickElementIndex),d.prev().attr("id","payvalue"+clickElementIndex),d.prev().children("span").text(b)}),$(".tip h4 b").click(function(){$(".tipMask, .tip").hide()})}function fSetAlertTipPosition(){var f=$(document).scrollTop(),e=$(window).height(),h=$(".alertTip").height();if(h>e){$(".alertTip").css("top",f)
}else{var g=(e-h)/2+f;$(".alertTip").css("top",g)}$(".closeBtn").click(function(){$(".tipMask, .tip").hide()})}function fClickTabShow(e,d){var f=$("li",e).not(".out").index($(".cur",e));$(d).eq(f).show().siblings(d).hide(),$("li",e).click(function(){$(this).hasClass("out")||($(this).addClass("cur").siblings().removeClass("cur"),f=$("li",e).not(".out").index($(".cur",e)),$(d).eq(f).show().siblings(d).hide())})}function fShowPswd(){var b=document.getElementById("togglePswd");b.addEventListener("click",fTogglePswdClick,!1)}function fTogglePswdClick(){var b=document.getElementById("mobiPswd");"password"==b.type?($("#togglePswd").removeClass("checkbox2").addClass("checkbox"),b.type="text"):($("#togglePswd").removeClass("checkbox").addClass("checkbox2"),b.type="password")}function fChkCopnIpt(d){var c=$(d).attr("value");
""!=c&&$(d).parents(".longIpt").siblings(".greyBtn").addClass("payNowBtn").removeClass("greyBtn"),$(d).blur(function(){var b=$(this).val().replace(/(^\s*)|(\s*$)/g,"");""==b?$(".longIpt").siblings(".payNowBtn").addClass("greyBtn").removeClass("payNowBtn"):($(this).parent().parent().next(".mobiEror").hide(),$(".longIpt").siblings(".greyBtn").addClass("payNowBtn").removeClass("greyBtn"),$(".verfyCod").next().removeClass("greyBtn").addClass("payNowBtn"))}).keyup(function(){$(this).triggerHandler("blur")}),$(d).focus(function(){$(this).parent().prev().show()}),$(".clearIpt").bind("click",function(){$(this).next().children().val(""),$(".longIpt").siblings(".payNowBtn").addClass("greyBtn").removeClass("payNowBtn")}),$(".mobiIpt input").selectRange()}function fShowTime(d){var c=d-1;return 0==d?!1:(fGetCopnTimer(c),window.setTimeout("fShowTime("+c+")",1000),"0"==c&&($(".timerOut").hide(),$("#twice").removeClass("greyBtn").addClass("payNowBtn").children("em").show()),void 0)
}function fGetCopnTimer(b){$("#timer").html(b)}function fTimerOrNot(d){var c=$("#timerValue").val();$("em",d).hide(),$(d).children(".timerOut").show(),fShowTime(c),$("#twice").removeClass("payNowBtn").addClass("greyBtn")}function fChangeBigImgByThumb(g,f){function k(){var b=$(f).index($(".cur"));h(b+1),b++}function j(){var b=$(f).index($(".cur"));return 0==b?!1:(h(b-1),b--,void 0)}function h(b){$(f).eq(b).addClass("cur").stop(!0,!0).fadeIn(600).siblings().removeClass("cur").stop(!0,!0).fadeOut(600);var d=$(".thumbCol .checked").not(".out").text().replace(/\s*/g,"");colorValue=d,$(".colSizResult b:eq(0)").replaceWith("<b>"+d+"</b>"),$("#choosecolor").attr("value",d)}$(".nav_right").click(function(){k()}),$(".nav_left").click(function(){j()}),$(f).bind("swipeleft",function(){k()}),$(f).bind("swiperight",function(){j()
}),$(g).click(function(){$(this).addClass("checked").siblings().removeClass("checked");var a=$(g).index($(".checked"));h(a)})}function getRandomString(f){f=f||32;var e="0123456789",h=e.length,g="";for(i=0;f>i;i++){g+=e.charAt(Math.floor(Math.random()*h))}return g}function multiDivScroll(){$(".promoActPro").each(function(){var j=this,h=1,o=3,n=$(".promoActProIn li",j).length,m=Math.ceil(n/o),l=$(".promoActProIn").width(),k=$(".promoActProIn ul",j);3>=n&&$(".promoActProBtn span",j).addClass("disable"),$(".next",j).bind("click",function(){if(!k.is(":animated")){if(h==m){return !1}h==m-1?($("span",j).addClass("disable"),$(".pre span",j).removeClass("disable")):$(".next span, .pre span",j).removeClass("disable"),k.animate({marginLeft:"-="+l},100),h++}}),$(".pre",j).bind("click",function(){if(!k.is(":animated")){if(1==h){return $("span",j).addClass("disable"),!1
}2==h?($("span",j).addClass("disable"),$(".next span",j).removeClass("disable")):$(".next span, .pre span",j).removeClass("disable"),k.animate({marginLeft:"+="+l},100),h--}}),$(this).bind("swipeleft",function(){$(".next",j).trigger("click")}),$(this).bind("swiperight",function(){$(".pre",j).trigger("click")})})}function sechSgst(){$("#keyword").keyup(function(){var d=$(this).val().replace(/^\s\s*/,""),c=400;setTimeout(function(){d?($("#suggest").show(),keywordQuery(d)):$("#suggest").hide()},c)})}function buy_car2(b){$(b).live("click",function(){$(this).closest("dl").hasClass("isMall")!==!0&&$(this).closest("dl").hasClass("soldOut")!==!0&&($(this).next().show(),$(this).closest("dl").siblings().find(".ins").hide())}),$(".ins .goBuy").live("click",function(){return $(this).parent().hide(),!1})
}function turnPage(){var b=document.getElementById("selPage").options[document.getElementById("selPage").selectedIndex].value;window.location.href=b}window.addEventListener("load",function(){}),$(".gotop").click(function(){window.scrollTo(0,1)}),$(".address_radio .radio2 input").live("click",function(){address_slt(),fCheckOrderAddress()});var colorValue=null,sizeValue=null;!function(){$(".colChose i, .sizChose i").click(function(){$(this).hasClass("out")||($(this).addClass("checked").siblings().removeClass("checked"),colorValue=$(".colChose .checked").not(".out").text(),sizeValue=$(".sizChose .checked").not(".out").text(),$(".colSizResult b:eq(0)").replaceWith("<b>"+colorValue+"</b>"),$(".colSizResult b:eq(1)").replaceWith("<b>"+sizeValue+"</b>"),$("#choosecolor").attr("value",colorValue),$("#choosesize").attr("value",sizeValue),$("#colSizResult2 b:eq(1)").text(sizeValue),$("#colSizResult1 b:eq(1)").hide())
})}(),$.fn.selectRange=function(){var e=this[0],d=e.value.length;if(e.setSelectionRange){e.focus(),e.setSelectionRange(d,d)}else{if(e.createTextRange){var f=e.createTextRange();f.collapse(!0),f.moveEnd("character",d),f.moveStart("character",d),f.select()}}},yhdLib_inshop=jQuery.yhdtool={fullColumnScroll:function(F){function E(){return v+=1,z.stop(!0,!0).animate({marginLeft:"-="+u},t,function(){v==x&&(z.css("marginLeft","-"+u+"px"),v=0),C.numnav&&s.find("a").eq(v).addClass("cur").siblings().removeClass("cur")}),!1}var D={id:!1,prevnext:!0,numnav:!1,time:4},C=$.extend({},D,F),B="#"+C.id,A=$(B),z=$(B+">.in>ul"),y=$("li",B),x=y.length,w=null,v=0,u=y.width(),t=320,s=null;if(!C.id||A.length<1){return !1}if(y.first().clone().appendTo(z),y.last().clone().prependTo(z),C.prevnext&&(w=$('<span class="mYhdSrollArrow mYhdSrollArrowL"></span><span class="mYhdSrollArrow mYhdSrollArrowR"></span>').appendTo(A),w.click(function(){return z.is(":animated")?!1:($(this).hasClass("mYhdSrollArrowL")?(--v,z.animate({marginLeft:"+="+u+"px"},t,function(){0>v&&(v=x-1,z.css("marginLeft","-"+u*(v+1)+"px")),C.numnav&&s.find("a").eq(v).addClass("cur").siblings().removeClass("cur")
})):E(),void 0)})),C.numnav){s=$('<div class="mYhdSrollNav">'+function(){for(var d="",c=0;x>c;c++){d+='<a hre="javascript:;" '+(0==c?'class="cur"':"")+">"+(c+1)+"</a>"}return d}()+"</div>").appendTo(A);var r=-(s.width()/2)+"px";s.css("marginLeft",r);var q=$(".inshopMat-FullColumScroll-NumNav>a",B);q.hover(function(){return v=q.index(this),z.stop(!0,!0).animate({marginLeft:"-"+u*(v+1)},t),C.numnav&&$(this).addClass("cur").siblings().removeClass("cur"),!1})}A.bind("swipeleft",function(){$(".mYhdSrollArrowR",A).trigger("click")}),A.bind("swiperight",function(){$(".mYhdSrollArrowL",A).trigger("click")})}},$(function(){$("#searchBtn").click(function(){return $(".searchBar").show(),!1}),$("#keyword").focus(function(){$(".cateBtn").hide(),$(this).parent().addClass("searchFormFocus")}),$("#keyword").blur(function(){$(".cateBtn").show(),$(this).parent().removeClass("searchFormFocus")
})});