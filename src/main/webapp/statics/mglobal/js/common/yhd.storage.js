define("common_yhd.storage",function(){var i=window.loli||(window.loli={});var c="localStorage",e="sessionStorage",k={},b={};k.set=function(m,n){};k.get=function(m){};k.remove=function(m){};k.clear=function(){};b.set=function(m,n){};b.get=function(m){};b.remove=function(m){};b.clear=function(){};function l(m){try{return(m in window&&window[m])}catch(n){return false}}function d(o,m){var n=window[o];m.set=function(p,q){if(q===undefined){return n.remove(p)}n.setItem(p,q);return q};m.get=function(p){return n.getItem(p)};m.remove=function(p){n.removeItem(p)};m.clear=function(){n.clear()}}if(l(c)){d(c,k)}if(l(e)){d(e,b)}var h=function(){var o=true;var n=document.domain;var p=/([^\.]*)\.yhd\.com/;if(p.test(n)){var m=p.exec(n)[1];if(m!="www"){o=false}}return o};var g=function(){var m=window.navigator.userAgent.toLowerCase();
var n=/safari/i;var p=/chrome/i;var o=/Android/i;if(n.test(m)&&!p.test(m)&&!o.test(m)){return true}return false};var a=function(){var m=new Date();return(m.getYear()+1900)+""+(m.getMonth()+1)};var f=function(x,v,m,t){var y=m||function(){};var r=(t&&t=="session")?b:k;if(h()){var w=r.set(x,v);y({status:1,key:x,value:w})}else{if(g()&&t!="session"){$.fn.cookie(x,encodeURIComponent(v),{domain:"m.yhd.com",path:"/",expires:30});y({status:1,key:x,value:v});return}if(!window.postMessage||!window.addEventListener){y({status:0,key:x,value:null});return}var s="globalLocalStorageAdaptorForSet";var n=$("#"+s);if(n.size()==0){var p=document.createElement("iframe");p.setAttribute("id",s);p.setAttribute("style","display:none");p.setAttribute("src",window.location.protocol+"//www.yhd.com/html/setLocalStorageH5.html?v="+a());
document.body.appendChild(p);n=$("#"+s)}if(n.attr("loaded")){var q=n.get(0).contentWindow;var u=window.location.protocol+"//www.yhd.com";var o={key:x,value:v,type:t};q.postMessage(o,u);setTimeout(function(){y({status:1,key:x,value:v})},200)}else{n.on("load",function(){$(this).attr("loaded","1");var A=$(this).get(0).contentWindow;var B=window.location.protocol+"//www.yhd.com";var z={key:x,value:v,type:t};A.postMessage(z,B);setTimeout(function(){y({status:1,key:x,value:v})},200)})}}};var j=function(z,B,w){var m=B||function(){};var r=(w&&w=="session")?b:k;if(h()){var A=r.get(z);m({status:1,key:z,value:A})}else{if(g()&&w!="session"){var A=$.fn.cookie(z);if(A!==null){A=decodeURIComponent(A)}m({status:1,key:z,value:A});return}if(!window.postMessage||!window.addEventListener){m({status:0,key:z,value:null});
return}var t=window["yhd.storage.get.callback"]||(window["yhd.storage.get.callback"]=[]);t.push(m);var x=t.length-1;var u="globalLocalStorageAdaptorForGet";var n=$("#"+u);if(n.size()==0){var v=document.createElement("iframe");v.setAttribute("id",u);v.setAttribute("style","display:none");v.setAttribute("src",window.location.protocol+"//www.yhd.com/html/getLocalStorageH5.html?v="+a());document.body.appendChild(v);n=$("#"+u)}if(n.attr("loaded")){var q=n.get(0).contentWindow;var y=window.location.protocol+"//www.yhd.com";var o=window.location.protocol+"//"+window.location.host;var p={key:z,host:o,version:x,type:w};q.postMessage(p,y)}else{n.on("load",function(){$(this).attr("loaded","1");var F=$(this).get(0).contentWindow;var D=window.location.protocol+"//www.yhd.com";var E=window.location.protocol+"//"+window.location.host;
var C={key:z,host:E,version:x,type:w};F.postMessage(C,D)})}var s=function(C){var F=/^http[s]?:\/\/([\.\w]*)\.yhd\.com/i;if(F.test(C.origin)){var E=C.data;if(E){var D=t[E.version];if(D){D({status:1,key:E.key,value:E.value})}else{m({status:1,key:E.key,value:E.value})}}}};if(!window["yhd.storage.get.handler"]){window.addEventListener("message",s);window["yhd.storage.get.handler"]=s}}};k.setFromRoot=function(o,n,m){f(o,n,m,"local")};k.getFromRoot=function(m,n){j(m,n,"local")};b.setFromRoot=function(o,n,m){f(o,n,m,"session")};b.getFromRoot=function(m,n){j(m,n,"session")};i.yhdStore=k;i.yhdSessionStore=b;return k});