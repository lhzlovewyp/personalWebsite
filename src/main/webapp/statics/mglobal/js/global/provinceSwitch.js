define("global_provinceSwitch",function(){var c={};var d=$.fn.cookie("provinceId")||1;var e="http://cart.yhd.com";var g={};var f=[{key:"华北",value:[{id:2,name:"北京"},{id:3,name:"天津"},{id:4,name:"河北"},{id:32,name:"山西"},{id:8,name:"内蒙古"}]},{key:"华东",value:[{id:1,name:"上海"},{id:5,name:"江苏"},{id:6,name:"浙江"},{id:13,name:"安徽"},{id:14,name:"福建"},{id:16,name:"山东"}]},{key:"华南",value:[{id:20,name:"广东"},{id:21,name:"广西"},{id:22,name:"海南"}]},{key:"华中",value:[{id:15,name:"江西"},{id:17,name:"河南"},{id:18,name:"湖北"},{id:19,name:"湖南"}]},{key:"西南",value:[{id:7,name:"重庆"},{id:12,name:"四川"},{id:23,name:"贵州"},{id:24,name:"云南"},{id:25,name:"西藏"}]},{key:"西北",value:[{id:26,name:"陕西"},{id:27,name:"甘肃"},{id:28,name:"青海"},{id:30,name:"宁夏"},{id:29,name:"新疆"}]},{key:"东北",value:[{id:9,name:"辽宁"},{id:10,name:"吉林"},{id:11,name:"黑龙江"}]}];
var a=function(){var p=$.fn.cookie("detail_yhdareas");var r=[];var q=[];var o=/([\d]+_[\d]+_[\d]+)_([\S^_]+_[\S^_]+_[\S^_]+)/;if(p&&o.test(p)){r=o.exec(p)[1].split("_");q=o.exec(p)[2].replace(/\<i\>\<\/i\>/g,"").split("_")}else{r=[d];for(var n=0;n<f.length;n++){var l=f[n].value;for(var m=0;m<l.length;m++){if(l[m].id==d){q=[l[m].name];break}}}}return[r,q]};var i=function(l){if(!l||l.length!=2){return}var o=l[0];var n=l[1];var m=o[0]+"_"+o[1]+"_"+o[2]+"_"+n[0]+"_"+n[1]+"_"+n[2];$.fn.cookie("provinceId",o[0],{domain:"yhd.com",path:"/",expires:800});$.fn.cookie("detail_yhdareas",m,{domain:"yhd.com",path:"/",expires:400})};var j=function(){var o=[];var p=a();var r=p[0];var q=p[1];o.push('<div class="touchweb_components-provinceSwitch">');o.push('<div class="provinceSwitch_body" id="provinceSwitch_body">');
o.push('<div class="switch_head">');o.push('<a href="javascript:;" class="head_item cur">');o.push('<span class="con_detail" data-id="'+(r.length>0?r[0]:"")+'">'+(q.length>0?q[0]:"省")+"</span>");o.push("</a>");o.push('<a href="javascript:;" class="head_item">');o.push('<span class="con_detail" data-id="'+(r.length>1?r[1]:"")+'">'+(q.length>1?q[1]:"市")+"</span>");o.push("</a>");o.push('<a href="javascript:;" class="head_item">');o.push('<span class="con_detail" data-id="'+(r.length>2?r[2]:"")+'">'+(q.length>2?q[2]:"区")+"</span>");o.push("</a>");o.push("</div>");o.push("<div class='switch_con'>");o.push("<div class='detail_wrap active'>");o.push("<div class='detail_box' id='_selectProvince'>");for(var n=0;n<f.length;n++){var l=f[n].value;for(var m=0;m<l.length;m++){o.push("	<a href='javascript:;' data-value='"+l[m].id+"' class='con_item'>"+l[m].name+"</a>")
}}o.push("</div>");o.push("</div>");o.push("<div class='detail_wrap'  data-tpc='1'>");o.push("<div class='detail_box' id='_selectCity'>");o.push("</div>");o.push("</div>");o.push("<div class='detail_wrap'  data-tpc='2'>");o.push("<div class='detail_box' id='_selectArea' >");o.push("</div>");o.push("</div>");o.push("</div>");o.push("</div>");o.push('<div class="layer_mask"></div>');o.push("</div>");return o.join("")};var h=function(p,o){if(!p){return}var m=e+"/cart/opt/getCountysByCity.do?callback=?";var l=function(t){var s=[];s.push("<dl class='clearfix'>");for(var r=0;r<t.length;r++){var q=t[r];s.push("<a data-value='"+q.id+"' href='javascript:;' class='con_item'>"+q.name+"</a>")}$("#_selectArea").html(s.join(""));if(o){o(t)}};var n={cityId:p};$.getJSON(m,n,function(q){if(q&&q.code=="00000000"){l(q.data)
}})};var k=function(p,o){if(!p){return}var l=e+"/cart/opt/getCitysByProvince.do?callback=?";var m=function(t){var s=[];for(var r=0;r<t.length;r++){var q=t[r];s.push("<a data-value='"+q.id+"' href='javascript:;'  class='con_item'>"+q.name+"</a>")}$("#_selectCity").html(s.join(""));if(o){o(t)}};var n={provinceId:p};$.getJSON(l,n,function(q){if(q&&q.code=="00000000"){m(q.data)}})};function b(){var l=j();$("body").append(j())}c.itemWidthCtrl=function(){var o=this;var p=$(".touchweb_components-provinceSwitch .switch_head"),n=p.find(".head_item"),m=$(".detail_box"),l;m.on("click","a",function(){var v=$(this);v.addClass("select").siblings().removeClass("select");var t=p.find(".con_detail");var q=p.find(".cur .con_detail");q.text(v.text());var r=v.attr("data-value");q.attr("data-id",r);var s=n.index($(".head_item.cur"));
if(s<n.length-1){var w=function(){p.find(".cur").removeClass("cur").next().addClass("cur");v.parents(".detail_wrap").removeClass("active").next().addClass("active")};if(s==0){k(r,w)}else{h(r,w)}}else{$(".touchweb_components-provinceSwitch").removeClass("fadeIn");o.setWinMove();var y="";n.each(function(){y+=$(this).text()});var x=[$(t[0]).attr("data-id"),$(t[1]).attr("data-id"),$(t[2]).attr("data-id")];var u=[$(t[0]).text(),$(t[1]).text(),$(t[2]).text()];i([x,u]);g.text(y)}});p.on("click",".head_item",function(){var q=n.index($(this));if(q-2<n.index($(".head_item.cur"))){p.find(".cur").removeClass("cur");$(this).addClass("cur");$(".detail_wrap.active").removeClass("active");$(".detail_wrap").eq(q).addClass("active")}})};c.winCtrl=function(){var m=$(".touchweb_components-provinceSwitch"),l=this;
g.on("click",function(){m.addClass("fadeIn");l.stopWinMove()});$(".layer_mask").on("click",function(){m.removeClass("fadeIn");l.setWinMove()})};c.getWindowOffsetTop=function(){return iTop=document.body.scrollTop};c.stopWinMove=function(){var l=c.getWindowOffsetTop();$("body").css({position:"fixed",top:-l})};c.setWinMove=function(){var l=-parseInt($("body").css("top").slice(0,-2));$("body").css({position:"relative",top:"initial"}).scrollTop(l)};c.init=function(m){g=m;b();this.winCtrl();var l=a();var n=l[1];g.text(n.join(""));this.itemWidthCtrl()};return c});